<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הבית שלנו</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1 class="logo">
                <i class="fas fa-home"></i>
                הבית שלנו
            </h1>
            <div class="header-actions">
                <button id="adminBtn" class="admin-btn" style="display: none;">
                    <i class="fas fa-cog"></i>
                    ניהול
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Screen - Family Profiles -->
        <section id="homeScreen" class="screen active">
            <div class="screen-header">
                <h2>בחר את הפרופיל שלך</h2>
                <p>לחץ על התמונה שלך כדי להתחיל</p>
            </div>
            <div id="familyProfiles" class="family-profiles">
                <!-- Profiles will be populated by JavaScript -->
            </div>
            <div class="rooms-section">
                <h3>או בחר חדר</h3>
                <div id="roomsGrid" class="rooms-grid">
                    <!-- Rooms will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- User Profile Screen -->
        <section id="profileScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" data-show-screen="homeScreen">
                    <i class="fas fa-arrow-right"></i>
                    חזרה
                </button>
                <h2 id="profileTitle">הפרופיל שלי</h2>
            </div>
            <div class="profile-content">
                <div id="profileInfo" class="profile-info">
                    <!-- Profile info will be populated by JavaScript -->
                </div>
                <div id="profileStats" class="profile-stats">
                    <!-- Stats will be populated by JavaScript -->
                </div>
                <div id="userTasks" class="tasks-section">
                    <h3>המשימות שלי</h3>
                    <div id="userTasksList" class="tasks-list">
                        <!-- Tasks will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Room Tasks Screen -->
        <section id="roomScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" data-show-screen="homeScreen">
                    <i class="fas fa-arrow-right"></i>
                    חזרה
                </button>
                <h2 id="roomTitle">משימות בחדר</h2>
            </div>
            <div id="roomTasksList" class="tasks-list">
                <!-- Room tasks will be populated by JavaScript -->
            </div>
        </section>

        <!-- Task Completion Screen -->
        <section id="taskCompletionScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="goBackFromTask()">
                    <i class="fas fa-arrow-right"></i>
                    חזרה
                </button>
                <h2>סיום משימה</h2>
            </div>
            <div id="taskCompletionForm" class="task-completion-form">
                <!-- Task completion form will be populated by JavaScript -->
            </div>
        </section>

        <!-- Rewards Store Screen -->
        <section id="rewardsScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" data-show-screen="homeScreen">
                    <i class="fas fa-arrow-right"></i>
                    חזרה
                </button>
                <h2>חנות הפרסים</h2>
            </div>
            <div id="rewardsList" class="rewards-list">
                <!-- Rewards will be populated by JavaScript -->
            </div>
        </section>

        <!-- Admin Panel Screen -->
        <section id="adminScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" data-show-screen="homeScreen">
                    <i class="fas fa-arrow-right"></i>
                    חזרה
                </button>
                <h2>פאנל ניהול</h2>
            </div>
            <div class="admin-content">
                <div class="admin-tabs">
<<<<<<< HEAD
                    <button class="admin-tab active" onclick="showAdminTab('tasks')">משימות</button>
                    <button class="admin-tab" onclick="showAdminTab('rewards')">פרסים</button>
                    <button class="admin-tab" onclick="showAdminTab('users')">משתמשים</button>
                    <button class="admin-tab" onclick="showAdminTab('bulkAdd')">הוספה מרובה</button>
                    <button class="admin-tab" onclick="showAdminTab('stats')">סטטיסטיקות</button>
                    <button class="admin-tab" onclick="showAdminTab('settings')">הגדרות</button>
=======
                    <button class="admin-tab active" data-admin-tab="tasks">ניהול משימות</button>
                    <button class="admin-tab" data-admin-tab="rewards">ניהול פרסים</button>
                    <button class="admin-tab" data-admin-tab="users">ניהול משתמשים</button>
                    <button class="admin-tab" data-admin-tab="stats">סטטיסטיקות</button>
                    <button class="admin-tab" data-admin-tab="settings">הגדרות</button>
>>>>>>> b988212c80802f10c437bbce7450719124f01142
                </div>
                
                <div id="adminTasksTab" class="admin-tab-content active">
                    <div class="admin-section-header">
                        <h3>ניהול משימות</h3>
                        <button id="addTaskBtn" class="add-btn">
                            <i class="fas fa-plus"></i>
                            הוסף משימה חדשה
                        </button>
                    </div>
                    <div id="adminTasksList" class="admin-tasks-list">
                        <!-- Admin tasks list will be populated by JavaScript -->
                    </div>
                </div>
                
                <div id="adminRewardsTab" class="admin-tab-content">
                    <div class="admin-section-header">
                        <h3>ניהול פרסים</h3>
                        <button id="addRewardBtn" class="add-btn">
                            <i class="fas fa-plus"></i>
                            הוסף פרס חדש
                        </button>
                    </div>
                    <div id="adminRewardsList" class="admin-rewards-list">
                        <!-- Admin rewards list will be populated by JavaScript -->
                    </div>
                </div>
                
                <div id="adminStatsTab" class="admin-tab-content">
                    <h3>סטטיסטיקות שבועיות</h3>
                    <div id="weeklyStats" class="weekly-stats">
                        <!-- Weekly stats will be populated by JavaScript -->
                    </div>
                </div>
                
                <div id="adminUsersTab" class="admin-tab-content">
                    <div class="admin-section">
                        <div class="section-header">
                            <h3>ניהול משתמשים</h3>
                            <button id="addUserBtn" class="btn-primary">הוסף משתמש</button>
                        </div>
                        <div id="adminUsersList" class="users-grid"></div>
                    </div>
                </div>
                
                <div id="adminBulkAddTab" class="admin-tab-content">
                    <div class="admin-section">
                        <div class="section-header">
                            <h3>🚀 הוספה מרובה של משימות</h3>
                            <div class="bulk-add-counter">
                                <span id="bulkAddCounter">משימה #1</span>
                            </div>
                        </div>
                        
                        <div class="bulk-add-container">
                            <form id="bulkAddForm" class="bulk-add-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>�� שם המשימה *</label>
                                        <input type="text" name="title" required placeholder="למשל: לסדר את החדר">
                                    </div>
                                    <div class="form-group">
                                        <label>⭐ נקודות *</label>
                                        <input type="number" name="points" min="1" max="100" required value="10">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>📝 תיאור המשימה *</label>
                                    <textarea name="description" required placeholder="פירוט מה צריך לעשות..."></textarea>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label>🏠 חדר *</label>
                                        <select name="room" required>
                                            <option value="">בחר חדר...</option>
                                            <option value="סלון">סלון</option>
                                            <option value="מטבח">מטבח</option>
                                            <option value="חדר ילדים">חדר ילדים</option>
                                            <option value="חדר רחצה">חדר רחצה</option>
                                            <option value="חצר">חצר</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>⏱️ זמן משוער (דקות) *</label>
                                        <select name="duration" required>
                                            <option value="10">10 דקות</option>
                                            <option value="15" selected>15 דקות</option>
                                            <option value="20">20 דקות</option>
                                            <option value="30">30 דקות</option>
                                            <option value="45">45 דקות</option>
                                            <option value="60">60 דקות</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label>👥 סוג המשימה *</label>
                                        <select name="taskType" required>
                                            <option value="personal" selected>אישית (כל אחד עושה את שלו)</option>
                                            <option value="shared">משותפת (כל הקודם זוכה)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>💪 רמת קושי *</label>
                                        <select name="difficulty" required>
                                            <option value="קל" selected>קל ⭐</option>
                                            <option value="בינוני">בינוני ⭐⭐</option>
                                            <option value="קשה">קשה ⭐⭐⭐</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>🎂 טווח גילאים *</label>
                                    <input type="text" name="ageRange" required placeholder="למשל: 5-12" value="5-15">
                                </div>

                                <div class="form-group">
                                    <label>👨‍👩‍👧‍👦 מיועד עבור (בחר מספר משתמשים)</label>
                                    <div id="bulkAssignedUsers" class="user-checkboxes">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                </div>

                                <div class="bulk-add-actions">
                                    <button type="button" class="btn-secondary" id="resetBulkForm">🔄 נקה טופס</button>
                                    <button type="submit" class="btn-success" id="addAndContinue">
                                        ➕ הוסף ועבור לבאה
                                    </button>
                                    <button type="button" class="btn-primary" id="addAndFinish">
                                        ✅ הוסף וסיים
                                    </button>
                                </div>
                            </form>

                            <div class="bulk-add-summary">
                                <h4>📊 משימות שהתווספו היום:</h4>
                                <div id="bulkAddSummary" class="summary-list">
                                    <!-- Will show recently added tasks -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="adminSettingsTab" class="admin-tab-content">
                    <h3>הגדרות מערכת</h3>
                    <div class="settings-section">
                        <div class="setting-item">
                            <h4>מצב אחסון</h4>
                            <div id="storageUsage">
                                <!-- Storage usage will be populated by JavaScript -->
                            </div>
                        </div>
                        <div class="setting-item">
                            <h4>איפוס נתונים שבועי</h4>
                            <p>מאפס את כל הנקודות והסטטיסטיקות השבועיות של כל המשתמשים</p>
                            <button id="weeklyResetBtn" class="weekly-reset-btn">
                                <i class="fas fa-refresh"></i>
                                איפוס שבועי
                            </button>
                        </div>
                        <div class="setting-item">
                            <h4>גיבוי נתונים</h4>
                            <p>הורד קובץ גיבוי של כל הנתונים</p>
                            <button id="exportDataBtn" class="btn-secondary">
                                <i class="fas fa-download"></i>
                                הורד גיבוי
                            </button>
                        </div>
                        <div class="setting-item">
                            <h4>ייבוא נתונים</h4>
                            <p>טען נתונים מקובץ גיבוי (יחליף את הנתונים הנוכחיים)</p>
                            <input type="file" id="importFileInput" accept=".json" style="display: none;">
                            <button id="importDataBtn" class="btn-primary">
                                <i class="fas fa-upload"></i>
                                ייבא נתונים
                            </button>
                        </div>
                        <div class="setting-item">
                            <h4>מחיקת כל הנתונים</h4>
                            <p>מחיקה מלאה של כל הנתונים - פעולה בלתי הפיכה!</p>
                            <button id="clearAllDataBtn" class="btn-danger">
                                <i class="fas fa-trash"></i>
                                מחק הכל
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for Forms -->
    <div id="modal" class="modal">
        <div id="modalBody" class="modal-content">
            <span class="close">&times;</span>
            <!-- Modal content will be populated by JavaScript -->
        </div>
    </div>

    <!-- Success/Error Messages -->
    <div id="messageContainer" class="message-container">
        <!-- Messages will be populated by JavaScript -->
    </div>

    <script src="app.js"></script>
</body>
</html> 